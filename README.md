1. Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

```
Аппаратная виртуализация
Основное отличие этого типа в том, что хостовая ОС (гипервизор) установлена на сам хост и работает на аппаратном уровне, за счет чего ВМ не знает, что находится в виртуализированной среде, так как аппаратное обеспечение виртуализируется самим гипервизором. Так же с помощью аппаратной виртуализации возможна изоляция различных типов ВМ (Linux, Windows и тд) между собой, их независимое управление (запуск, остановка, модификация и тд без вреда для других ОС на хостовой машине) и сетевое взаимодействие на уровне гипервизора.

Паравиртуализация
Отличие данного типа виртуализации, от аппаратной заключается в том, что на железе хостовой машины установлена основная ОС (Linux, Windows и тд), а на ней уже остановлен гипервизор для ВМ, который разделяет доступ к железу хоста между собой и хостовой ОС. Данном случае используются виртуальные драйвера эмулирующие аппаратную часть для ВМ, которые вместо выдачи аппаратных команд просто выдают команды непосредственно хостовой ОС. Это также включает в себя управление различными ВМ, их изоляция, модификация и взаимодействие между собой.

Виртуализации на основе ОС
Данный тип позволяет виртуализировать машины на уровне ядра операционной системы. Основное отличие данного типа, в том, что ВМ используют ядро самой ОС, а значит запускать ВМ с другим типом ядра, отличным от хостовой ОС невозможно.
```

2. Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

```
Условия использования:
Высоконагруженная база данных, чувствительная к отказу: В данном случае однозначно бы использовал физические сервера с объединением их в один кластер и с резервированием и возможностью дальнейшего масштабирования, на случай расширения ресурсов, если резко вырастет нагрузка на базу.

Различные web-приложения: В данном случае отлично подойдет виртуализация уровня ОС, в частности докер контейнеры. Обычно сами приложения не сильно требовательны к ресурсам, тем более если организована микросервисная архитектура, докер это то что нужно, можно быстро обновлять, перезапускать, останавливать сервисы внутри докеров, размещая при этом всё на одной ОС.

Windows системы для использования бухгалтерским отделом: Тут подойдут физические сервера с установкой на него гипервизора типа ESXI или Hyper V если нужна vendor lock-in архитектура, так как обычно 1С ставится на Windows Server и конечные пользователи тоже сидят на данной ОС. Но так же без проблем подойдет паравиртуализация на основе Proxmox, но с установкой на физический сервер, он бесплатный и со всеми необходимыми в данном случае задачами может справиться. 

Системы, выполняющие высокопроизводительные расчеты на GPU: В данном случае однозначно бы использовал физические сервера с установкой на них гипервизора, так как нужен доступ к аппаратной части GPU без дополнительной абстракции в виде базовой ОС, должна быть возможность разделения ресурсов GPU между гостевыми ВМ,  но при этом есть проблема миграции данных ВМ на другой сервер. 
```

3. Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:
100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

```
В целом тут любая система подойдёт, так как не идет речь о экономии денег, в первую очередь я бы смотрел в сторону  Hyper-V, так как преимущественно Windows based инфраструктура, она так же хорошо поддерживает Linux ОС. Во вторых, так же подойдет EXSI, но надо смотреть hardware compabily list, чтобы она поддерживала железо сервера, на который мы хотим его установить. В третьих можно использовать Proxmox или что то подобное, если есть необходимость сэкономить на лицензиях.
```

Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

```
Proxmox или (что то подобное), ВМ я бы поднимал на Linux в контейнерах (lxs), а ВМ на Windows в KVM.
```

Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

```
Hyper-V в бесплатной редакции, она ограничивается только отсутствием GUI интерфейса, но сами ВМ на Windows должны быть лицензированы.
```

Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

```
Больше подойдут docker контейнеры, так как с ними есть возможность очень быстро создавать необходимое количество сред для тестирования программного обеспечения, установку можно описать кодом, быстро развернуть или уничтожить (Vagrant, Terraform и тд)
```

4. Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

```
Гетерогенные среды использовать не стоит, так как требуется большое количество знаний и квалификации в разных системах для управления этим зоопарком, соответственно если это большая инфраструктура, то   нужен целый штат специалистов разной квалификации, а это создает дополнительные накладные расходы на бизнес. Чтобы минимизировать риск образования данный среды в инфраструктуре, необходимо сформировать четкое ТЗ от бизнеса и на основе него спланировать инфраструктуру, выбрать одну, наиболее подходящую под ТЗ систему виртуализации и стараться масштабировать инфраструктуру только в рамках неё.

Нет, гетерогенную среду я бы не создавал, по вышеописанным причинам. Намного удобнее когда у тебя единая монолитная среда, гораздо проще масштабировать, мониторить и управлять чем то одним. 

Из личных примеров, могу вспомнить, что зачастую миграция ВМ между различными средами виртуализации создает кучу проблем, нужно конвертировать виртуалки, так как расширения разные, иногда не хватает необходимых драйверов для их запуска и корректной работы и так далее. 
```

